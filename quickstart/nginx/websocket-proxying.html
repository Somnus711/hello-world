<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2019-12-25
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20191225" />
    <meta http-equiv="Content-Language" content="en" />
    <title>demo maven site - </title>
    <link rel="stylesheet" href="../../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />

      
    <script type="text/javascript" src="../../js/apache-maven-fluido-1.3.0.min.js"></script>

                          
        
<link rel="stylesheet" href="../../css/plain-links.css"/>
          
            </head>
        <body class="topBarEnabled">
          
    
    
            
    
        
    <a href="http://github.com/xiaojiaC/hello-world">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
        alt="Fork me on GitHub">
    </a>
  
                        
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                                  <div class="container"><div class="nav-collapse">
            
                
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Overview <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../../index.html"  title="Introduction">Introduction</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">FAQ <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../../faq/maven-plugin.html"  title="Maven Plugin">Maven Plugin</a>
</li>
                  
                      <li>      <a href="../../quickstart/groovy-diff-java.html"  title="Groovy Differences With Java">Groovy Differences With Java</a>
</li>
                  
                      <li>      <a href="../../quickstart/nginx/http-upstream-module.html"  title="Nginx Module: ngx_http_upstream_module">Nginx Module: ngx_http_upstream_module</a>
</li>
                  
                      <li>      <a href="../../quickstart/nginx/websocket-proxying.html"  title="Nginx WebSocket Proxying">Nginx WebSocket Proxying</a>
</li>
                  
                      <li>      <a href="../../quickstart/proguard-obfuscation.html"  title="ProGuard Obfuscation Options">ProGuard Obfuscation Options</a>
</li>
                  
                      <li>      <a href="../../quickstart/jquery-selector.html"  title="jQuery Selectors">jQuery Selectors</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cookbook <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../../cookbook/asciidoc-table.html"  title="AsciiDoc Table">AsciiDoc Table</a>
</li>
                  
                      <li>      <a href="../../quickstart/maven-plugin.html"  title="Maven Plugin">Maven Plugin</a>
</li>
                  
                      <li>      <a href="../../cookbook/docker-maven-plugin.html"  title="Docker Maven Plugin">Docker Maven Plugin</a>
</li>
                  
                      <li>      <a href="https://progit.bootcss.com/"  title="Pro Git">Pro Git</a>
</li>
                  
                      <li>      <a href="../../cookbook/spring-core.html"  title="Spring Core">Spring Core</a>
</li>
                  
                      <li>      <a href="../../cookbook/spring-session.html"  title="Spring Session">Spring Session</a>
</li>
                  
                      <li>      <a href="../../cookbook/spring-data-jpa.html"  title="Spring Data JPA">Spring Data JPA</a>
</li>
                  
                      <li>      <a href="../../cookbook/spring-data-solr.html"  title="Spring Data Solr">Spring Data Solr</a>
</li>
                  
                      <li>      <a href="../../cookbook/spring-mvc.html"  title="Spring MVC">Spring MVC</a>
</li>
                  
                      <li>      <a href="../../cookbook/spring-test.html"  title="Spring Testing">Spring Testing</a>
</li>
                  
                      <li>      <a href="../../cookbook/spring-boot.html"  title="Spring Boot">Spring Boot</a>
</li>
                  
                      <li>      <a href="../../cookbook/spring-boot-test.html"  title="Spring Boot Testing">Spring Boot Testing</a>
</li>
                  
                      <li>      <a href="../../cookbook/spring-rest-docs.html"  title="Spring REST Docs">Spring REST Docs</a>
</li>
                  
                      <li>      <a href="../../cookbook/spring-cloud-gateway.html"  title="Spring Cloud Gateway">Spring Cloud Gateway</a>
</li>
                  
                      <li>      <a href="../../cookbook/springfox.html"  title="Springfox">Springfox</a>
</li>
                  
                      <li>      <a href="../../cookbook/groovy.html"  title="Groovy">Groovy</a>
</li>
                          </ul>
      </li>
                  </ul>
          
          
                                                              
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../../index.html" id="bannerLeft">
                                                                                                <img src="../../images/hello-world.png"  alt="demo maven site"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="../.././" title="Hello World">
        Hello World</a>
        </li>
      <li class="divider ">/</li>
        <li class=""></li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2019-12-25</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 1.0.0-SNAPSHOT</li>
            
                            </ul>
      </div>

      
                
        <div id="bodyColumn" >
                                  
            <h1>WebSocket&#x4ee3;&#x7406;</h1>
<p>&#x8981;&#x5c06;&#x5ba2;&#x6237;&#x7aef;&#x548c;&#x670d;&#x52a1;&#x5668;&#x4e4b;&#x95f4;&#x7684;&#x8fde;&#x63a5;&#x4ece;HTTP 1.1&#x8f6c;&#x6362;&#x4e3a;WebSocket&#xff0c;&#x8bf7;&#x4f7f;&#x7528;HTTP/1.1&#x4e2d;&#x63d0;&#x4f9b;&#x7684;<a class="externalLink" href="https://tools.ietf.org/html/rfc2616#section-14.42">&#x534f;&#x8bae;&#x4ea4;&#x6362;</a>&#x673a;&#x5236;&#x3002;</p>
<p>&#x7136;&#x800c;&#xff0c;&#x6709;&#x4e00;&#x4e2a;&#x5fae;&#x5999;&#x4e4b;&#x5904;&#xff1a;&#x7531;&#x4e8e;&#x201c;Upgrade&#x201d;&#x662f;&#x9010;&#x8df3;(<a class="externalLink" href="https://tools.ietf.org/html/rfc2616#section-13.5.1">hop-by-hop</a>)&#x6807;&#x5934;&#xff0c;&#x56e0;&#x6b64;&#x5b83;&#x4e0d;&#x4f1a;&#x4ece;&#x5ba2;&#x6237;&#x7aef;&#x4f20;&#x9012;&#x5230;&#x4ee3;&#x7406;&#x670d;&#x52a1;&#x5668;&#x3002;&#x4f7f;&#x7528;&#x6b63;&#x5411;&#x4ee3;&#x7406;&#xff0c;&#x5ba2;&#x6237;&#x7aef;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;<tt>CONNECT</tt>&#x65b9;&#x6cd5;&#x6765;&#x89c4;&#x907f;&#x6b64;&#x95ee;&#x9898;&#x3002;&#x4f46;&#x662f;&#xff0c;&#x8fd9;&#x4e0d;&#x9002;&#x7528;&#x4e8e;&#x53cd;&#x5411;&#x4ee3;&#x7406;&#xff0c;&#x56e0;&#x4e3a;&#x5ba2;&#x6237;&#x7aef;&#x4e0d;&#x77e5;&#x9053;&#x4efb;&#x4f55;&#x4ee3;&#x7406;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x5e76;&#x4e14;&#x9700;&#x8981;&#x5728;&#x4ee3;&#x7406;&#x670d;&#x52a1;&#x5668;&#x4e0a;&#x8fdb;&#x884c;&#x7279;&#x6b8a;&#x5904;&#x7406;&#x3002;</p>
<p>&#x4ece;&#x7248;&#x672c;1.3.13&#x5f00;&#x59cb;&#xff0c;nginx&#x5b9e;&#x73b0;&#x4e86;&#x7279;&#x6b8a;&#x7684;&#x64cd;&#x4f5c;&#x6a21;&#x5f0f;&#xff0c;&#x5982;&#x679c;&#x4ee3;&#x7406;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x5e26;&#x6709;101&#xff08;&#x4ea4;&#x6362;&#x534f;&#x8bae;&#xff09;&#x4ee3;&#x7801;&#x7684;&#x54cd;&#x5e94;&#xff0c;&#x5e76;&#x4e14;&#x5ba2;&#x6237;&#x7aef;&#x901a;&#x8fc7;&#x8bf7;&#x6c42;&#x4e2d;&#x7684;&#x201c;Upgrade&#x201d;&#x62a5;&#x5934;&#x8bf7;&#x6c42;&#x534f;&#x8bae;&#x4ea4;&#x6362;&#xff0c;&#x5219;nginx&#x5141;&#x8bb8;&#x5728;&#x5ba2;&#x6237;&#x7aef;&#x548c;&#x4ee3;&#x7406;&#x670d;&#x52a1;&#x5668;&#x4e4b;&#x95f4;&#x5efa;&#x7acb;&#x901a;&#x9053;&#x3002;</p>
<p>&#x5982;&#x4e0a;&#x6240;&#x8ff0;&#xff0c;&#x5305;&#x62ec;&#x201c;Upgrade&#x201d;&#x548c;&#x201c;Connection&#x201d;&#x7684;&#x9010;&#x8df3;&#x62a5;&#x5934;&#x4e0d;&#x4f1a;&#x4ece;&#x5ba2;&#x6237;&#x7aef;&#x4f20;&#x9012;&#x5230;&#x4ee3;&#x7406;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x56e0;&#x6b64;&#x4e3a;&#x4e86;&#x8ba9;&#x4ee3;&#x7406;&#x670d;&#x52a1;&#x5668;&#x77e5;&#x9053;&#x5ba2;&#x6237;&#x7aef;&#x9700;&#x8981;&#x5c06;&#x534f;&#x8bae;&#x5207;&#x6362;&#x5230;WebSocket&#xff0c;&#x8fd9;&#x4e9b;&#x62a5;&#x5934;&#x5fc5;&#x987b;&#x660e;&#x786e;&#x4f20;&#x9012;&#xff1a;</p>

<div class="source">
<pre>location /chat/ {
    proxy_pass http://backend;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection &quot;upgrade&quot;;
}
</pre></div>
<p>&#x4e00;&#x4e2a;&#x66f4;&#x590d;&#x6742;&#x7684;&#x793a;&#x4f8b;&#xff0c;&#x5176;&#x4e2d;&#x5bf9;&#x4ee3;&#x7406;&#x670d;&#x52a1;&#x5668;&#x7684;&#x8bf7;&#x6c42;&#x4e2d;&#x7684;&#x201c;Connection&#x201d;&#x6807;&#x5934;&#x5b57;&#x6bb5;&#x7684;&#x503c;&#x53d6;&#x51b3;&#x4e8e;&#x5ba2;&#x6237;&#x7aef;&#x8bf7;&#x6c42;&#x6807;&#x5934;&#x4e2d;&#x662f;&#x5426;&#x5b58;&#x5728;&#x201c;Upgrade&#x201d;&#x5b57;&#x6bb5;&#xff1a;</p>

<div class="source">
<pre>http {
    map $http_upgrade $connection_upgrade {
        default upgrade;
        ''      close;
    }

    server {
        ...

        location /chat/ {
            proxy_pass http://backend;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection $connection_upgrade;
        }
    }
</pre></div>
<p>&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x5982;&#x679c;&#x4ee3;&#x7406;&#x670d;&#x52a1;&#x5668;&#x5728;60&#x79d2;&#x5185;&#x672a;&#x4f20;&#x8f93;&#x4efb;&#x4f55;&#x6570;&#x636e;&#xff0c;&#x8fde;&#x63a5;&#x5c06;&#x88ab;&#x5173;&#x95ed;&#x3002;&#x4f7f;&#x7528;<a class="externalLink" href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_read_timeout">proxy_read_timeout</a>&#x6307;&#x4ee4;&#x53ef;&#x4ee5;&#x589e;&#x52a0;&#x6b64;&#x8d85;&#x65f6;&#x65f6;&#x95f4;&#x3002;&#x6216;&#x8005;&#xff0c;&#x4ee3;&#x7406;&#x670d;&#x52a1;&#x5668;&#x53ef;&#x4ee5;&#x914d;&#x7f6e;&#x4e3a;&#x5468;&#x671f;&#x6027;&#x5730;&#x53d1;&#x9001;WebSocket ping&#x5e27;&#x6765;&#x91cd;&#x7f6e;&#x8d85;&#x65f6;&#x5e76;&#x68c0;&#x67e5;&#x8fde;&#x63a5;&#x662f;&#x5426;&#x4ecd;&#x7136;&#x5b58;&#x5728;&#x3002;</p>
<p>TIP: <a class="externalLink" href="http://nginx.org/en/docs/http/websocket.html">&#x539f;&#x6587;&#x94fe;&#x63a5;</a></p>
                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
              <div class="row span12">Copyright &copy;                   2019.
          All Rights Reserved.      
                    
      </div>

        
                <p id="poweredBy" class="pull-right">
                                                                                                                      <a href="http://maven.apache.org/" title="Built by Maven" class="builtBy">
        <img class="builtBy"  alt="Built by Maven" src="../../images/logos/maven-feather.png"    />
      </a>
                  </p>
        
                </div>
    </footer>
  </body>
</html>
